# Система онлайн-чата для поддержки клиентов

Эта система предоставляет виджет онлайн-чата для интеграции на ваши сайты, а также административную панель для отвечающих операторов. Система разделена на клиентскую часть (JavaScript) и серверную часть (Python Flask).

## Возможности системы

- Виджет чата для сайтов, который любой посетитель может использовать для связи с оператором
- Админ-панель для операторов с возможностью отвечать на сообщения из чатов
- Обработка форм обратной связи через единую систему 
- Идентификация чатов по сайтам для избежания путаницы между чатами с разных сайтов
- Уведомления о новых сообщениях и заявках

## Структура проекта

- `/js/` - Файлы клиентской части (JavaScript)
  - `chat-widget.js` - Виджет чата для внедрения на сайты
- `/server/` - Серверная часть (Python Flask)
  - `app.py` - Основной файл сервера Flask
  - `templates/` - HTML шаблоны для административной панели
  - `static/` - Статические файлы (CSS, JS, изображения)

## Установка и запуск

### Клиентская часть (на стороне сайта)

1. Скопируйте файл `js/chat-widget.js` на ваш сайт
2. Добавьте следующий код на каждую страницу, где должен отображаться чат:

```html
<!-- Font Awesome для иконок -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">

<!-- Подключение виджета чата -->
<script src="/path/to/chat-widget.js"></script>
```

### Серверная часть (на стороне сервера)

1. Установите Python (версия 3.7 или выше)
2. Установите необходимые зависимости:

```bash
pip install flask flask-cors werkzeug
```

3. Запустите сервер:

```bash
cd server
python app.py
```

По умолчанию сервер запустится на порту 5000. Вы можете изменить порт в файле `app.py`.

4. Настройте домен API в файле `js/chat-widget.js` (измените `apiUrl` на адрес вашего сервера)

## Доступ к административной панели

Административная панель доступна по адресу `http://your-server:5000/admin`

Данные для входа по умолчанию:
- Логин: `admin`
- Пароль: `admin123`

После первого входа настоятельно рекомендуется сменить пароль.

## Настройка для нескольких сайтов

Виджет чата автоматически распознает сайт, на котором он установлен, используя `window.location.hostname`. Таким образом, операторы в административной панели видят, с какого именно сайта пришло сообщение.

## Требования к серверу

- Python 3.7+
- SQLite (встроен в Python)
- Свободный порт (по умолчанию 5000)
- Открытый доступ к серверу из интернета для приема сообщений с сайтов

## Примечания по безопасности

- Настоятельно рекомендуется использовать HTTPS для защиты данных клиентов
- При использовании в производственной среде следует изменить секретный ключ в `app.py`
- Регулярно обновляйте пароли операторов
- Рассмотрите возможность добавления защиты от спама в виджет чата

## Лицензия

Данное программное обеспечение распространяется под лицензией MIT. 